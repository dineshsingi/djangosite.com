<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css">


<style type="text/css">
    .form-control-dark {
        border-color: var(--bs-gray);
    }
    .form-control-dark:focus {
        border-color: #fff;
        box-shadow: 0 0 0 .25rem rgba(255, 255, 255, .25);
    }

    .text-small {
        font-size: 85%;
    }
    .dropdown-toggle {
        outline: 0;
    }

</style>

<!--Header-->
<div class="b-example-divider"></div>

  <header class="p-3 text-bg" style="background-color: #6000ff;">
    <div class="container">
      <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">

          <a class="nav-link px-2 text-white" href="#" style="font-size: large;">
          {% if request.user.is_authenticated %}
          <p> Hello, {{ request.user.username }} </p>
          {% endif %}
          </a> &nbsp; &nbsp; &nbsp;

        <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
          <li><a href="{% url 'home' %}" class="nav-link px-2 text-secondary">Home</a></li>
<!--          <li><a href="#" class="nav-link px-2 text-white">Features</a></li>-->
<!--          <li><a href="#" class="nav-link px-2 text-white">Pricing</a></li>-->
<!--          <li><a href="#" class="nav-link px-2 text-white">FAQs</a></li>-->
<!--          <li><a href="#" class="nav-link px-2 text-white">About</a></li>-->
        </ul>

        <!--search--> <!--get request for queryset -->
        <form class="col-12 col-lg-4 mb-3 mb-lg-0 me-lg-3" role="search" onsubmit="return executeQuery();">
          <input type="search" class="form-control form-control-dark text-bg-light" name="q" id="id_q" placeholder="Search..." aria-label="Search">
        </form>


        <!--account login logout register-->
        <div class="text-end">
            {% if request.user.is_authenticated %}

            <a href="{% url 'account' %}" type="button" class="btn btn-outline-light me-2"> Account </a>
            <a href="{% url 'logout' %}" type="button" class="btn btn-warning"> Logout </a>

            {% else %}

            <a href="{% url 'register' %}" type="button" class="btn btn-outline-light me-2"> Register </a>
            <a href="{% url 'login' %}" type="button" class="btn btn-warning"> Login </a>

            {% endif %}
        </div>


      </div>
    </div>
  </header>


<script type="text/javascript">
    document.getElementById("id_q").value="{{ query }}"
</script>

<script type="text/javascript">
    function executeQuery(){
        var query = document.getElementById("id_q").value
        window.location.replace("http://127.0.0.1:8000/?q=" + query)
        // "https://open-api.xyz/?q=" + query
        return false
    }
</script>

<!-- End Header-->

